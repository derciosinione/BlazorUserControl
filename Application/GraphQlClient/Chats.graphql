
query GetChatMessages($roomId: UUID!) {
  allMessagesByChatRoomId(roomId: $roomId) {
    id
    type
    content
    sentAt
    senderEmail
    sender {
      name
      email
      avatarUrl
    }
  }
}


query GetAllUserRoom($currentUserEmail: String!) {
  allChatRoomByUserEmail(userEmail: $currentUserEmail) {
    id
    name
    type
    participants {
      user {
        avatarUrl
        email
        name
      }
      joinedAt
    }
    messages {
      id
      content
      type
      senderEmail
      sentAt
    }
  }
}

subscription OnMessageReceived($currentUserEmail: String!) {
  onMessageReceived(currentUserEmail: $currentUserEmail) {
    id
    chatRoomId
    type
    senderEmail
    content
    fileUrl
    sentAt
  }
}