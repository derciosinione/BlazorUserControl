query GetChatMessages($roomId: UUID!, $page: Int!, $pageSize: Int!) {
  allMessagesByChatRoomId(
    roomId: $roomId
    page: $page
    pageSize: $pageSize
  ) {
    hasNextPage
    hasPreviousPage
    page
    pageSize
    totalCount
    totalPages
    data {
      id
      type
      chatRoomId
      content
      sentAt
      senderEmail
      readBy {
        readAt
        user {
          email
          name
          avatarUrl
        }
      }
      sender {
        email
        name
        avatarUrl
      }
    }
  }
}

query GetAllUserRoom($currentUserEmail: String!) {
  allChatRoomByUserEmail(userEmail: $currentUserEmail) {
    id
    name
    type
    lastMessage {
      id
      type
      content
      sentAt
    }
  }
}

subscription OnMessageReceived($currentUserEmail: String!) {
  onMessageReceived(currentUserEmail: $currentUserEmail) {
    id
    chatRoomId
    type
    senderEmail
    content
    fileUrl
    sentAt
  }
}